(()=>{var e,t={712:e=>{var t='"&"',r='"|"';function n(e){return e[0]&&"&"!==e[0]&&"|"!==e[0]&&"!"!==e[0]&&!(e[0]instanceof Array)&&(e=[e]),JSON.stringify(e)}function s(e){e instanceof Array&&(e=n(e));var t=/^\s*\[([\S\s]*)?\]\s*$/.exec(e);if(null===t)throw new Error("Invalid domain filter "+e);return(t[1]||"").trim()}class i{split(e){return this._domainNodes=[],this._currentNode="",this._parenthesisCount=0,e.split("").forEach((e=>this._processChar(e))),this._domainNodes.push(this._currentNode),this._domainNodes}_processChar(e){this._isOpeningParenthesis(e)?this._processOpeningParenthesis(e):this._isClosingParenthesis(e)?this._processClosingParenthesis(e):this._isDomainNodeSeperator(e)?this._processDomainNodeSeperator(e):this._currentNode+=e}_processOpeningParenthesis(e){0===this._parenthesisCount&&(this._domainNodes.push(this._currentNode),this._currentNode=""),this._currentNode+=e,this._parenthesisCount+=1}_processClosingParenthesis(e){this._parenthesisCount-=1,this._currentNode+=e,0===this._parenthesisCount&&(this._domainNodes.push(this._currentNode),this._currentNode="")}_processDomainNodeSeperator(e){this._domainNodes.push(this._currentNode),this._currentNode=""}_isOpeningParenthesis(e){return"("===e||"["===e}_isClosingParenthesis(e){return")"===e||"]"===e}_isDomainNodeSeperator(e){return 0===this._parenthesisCount&&","===e}}function o(e){return e.replace("'&'",t).replace("'|'",r).replace("'!'",'"!"')}function a(e){var n=function(e){return(new i).split(e).map((e=>e.trim())).filter((e=>e))}(e=o(e)),s=n.filter((e=>e===t||e===r)),a=n.filter((e=>e!==t&&e!==r&&'"!"'!==e));return _.times(a.length-s.length-1,_.constant(t)).concat(n).join(", ")}e.exports={convertDomainArrayToString:n,extractContentFromDomain:s,addExplicitAndOperatorsToDomainContent:a,mergeDomainsWithAndOperators:function(e){return console.log("---------------------extractContentFromDomain--------------"),console.log(s),"["+e.map(s).map(o).filter((e=>""!==e)).join(", ")+"]"},mergeDomainsWithOrOperators:function(e){var t=e.map(s);if(t.some((e=>""===e)))return"[]";var n=t.map(a);return"["+_.times(n.length-1,_.constant(r)).concat(n).join(", ")+"]"}}}},r={};e=function e(n){var s=r[n];if(void 0!==s)return s.exports;var i=r[n]={exports:{}};return t[n](i,i.exports,e),i.exports}(712),window.webContextualSearchFavorite={domainParsing:e}})();